<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.ebook.prj.category.mapper.CtgyMapper">
	<select id="ctgyList" resultType="co.ebook.prj.category.vo.CtgyVO">
	 	SELECT *
		  FROM CATEGORY
		 WHERE CTGY_GR_ID IS NULL
		 ORDER BY CTGY_ID
	</select>
	
	<select id="ctgyDetailList" resultType="co.ebook.prj.category.vo.CtgyVO">
		SELECT *
		  FROM CATEGORY
		 WHERE CTGY_GR_ID = #{ctgyGrId}
		 ORDER BY CTGY_ID
	</select>
	
	<insert id="ctgyInsert" parameterType="co.ebook.prj.category.vo.CtgyVO">
		INSERT INTO CATEGORY
		VALUES ( #{ctgyId} , #{ctgyNm} , #{ctgyGrId}, #{ctgyUseYn}, #{ctgyWriter} , SYSDATE, SYSDATE )
	</insert> 
	
	<update id="ctgyUpdate" parameterType="co.ebook.prj.category.vo.CtgyVO">
		UPDATE CATEGORY
		   SET CTGY_NM = #{ctgyNm}
		   	 , CTGY_USE_YN = #{ctgyUseYn}
		   	 , CTGY_WRITER = #{ctgyWriter}
		   	 , UDT_DT = SYSDATE
		 WHERE CTGY_ID = #{ctgyId}
	</update>
	
	<delete id="ctgyDelete" parameterType="co.ebook.prj.category.vo.CtgyVO">
		DELETE FROM CATEGORY
		 WHERE CTGY_ID = #{ctgyId}
	</delete>
</mapper>