<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.ebook.prj.cmmnty.mapper.CmmntyMapper">

	<!-- 211018 공지사항전체조회  -->
	<select  id="cmmntyList" resultType="co.ebook.prj.cmmnty.vo.CmmntyVO">
		SELECT rownum as cmmnty_no , cmmnty_id, cmmnty_title || '('|| cmmnty_reply_cnt || ')' as cmmnty_title, cmmnty_writer, ins_dt,cmmnty_hit
		  FROM community
		 WHERE cmmnty_fl_cd = #{cmmntyFlCd}
		 ORDER BY cmmnty_no desc
	</select>
	
	<!-- 211019 공지사항세부조회 -->
	<select id="cmmntySelectList" resultType="co.ebook.prj.cmmnty.vo.CmmntyVO">
		SELECT cmmnty_title,cmmnty_contents,cmmnty_writer,cmmnty_hit,ins_dt,udt_dt
		  FROM community
		 WHERE cmmnty_fl_cd = #{cmmntyFlCd}
		   AND cmmnty_id = #{cmmntyId}
	</select>
	
	<!-- 211019 공지사항글쓰기입력 -->
	<insert id="cmmntInsert" >
		INSERT 
		  INTO community
		VALUES (${C_SEQ.nextval},${cmmntyId},${cmmntyWriter},${cmmntyFlCd},${cmmntyTitle},${cmmntyContents},${},sysdate,sysdate)
		
		'N','0','0','','');
	</insert>
	
</mapper>