<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.ebook.prj.payHistory.PayMapper">

	<insert id="payInsert" parameterType="co.ebook.prj.payHistory.vo.PayVO">
		insert 
		  into  pay_history
		  		(pay_id,   
				,mcnfm_id
				,pay_dt
				,imp_uid
				,pay_st_cd
				,pay_mthd
				,pay_amt
				,mcnfm_cntr_sdt
				,mcnfm_cntr_edt
				,ins_dt
				,udt_dt)
						  		
		values  (pay_seq.nextval
				,#{mcnfmId}
				,sysdate
				,#{impUid}
				,'04'
				,#{payMthd}
				,	
				<if test="payAmt == '100000'">
				to_char(add_months(sysdate, 1), 'YYYY-MM-DD'),
				</if>
				<if test="payAmt == '500000'">
				to_char(add_months(sysdate, 3), 'YYYY-MM-DD'),
				</if>
				<if test="payAmt == '990000'">
				to_char(add_months(sysdate, 12), 'YYYY-MM-DD'),
				</if>
				sysdate
				,#{mcnfmCntrEdt}
				,sysdate 	
				,sysdate)
				
	</insert>



</mapper>